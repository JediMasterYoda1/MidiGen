"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "StartOptions", {
    enumerable: true,
    get: function() {
        return _sharedTypes.StartOptions;
    }
});
exports.default = void 0;
var _asyncOra = require("@electron-forge/async-ora");
var _chalk = _interopRequireDefault(require("chalk"));
var _debug = _interopRequireDefault(require("debug"));
var _sharedTypes = require("@electron-forge/shared-types");
var _childProcess = require("child_process");
var _electronVersion = require("../util/electron-version");
var _forgeConfig = _interopRequireDefault(require("../util/forge-config"));
var _electronExecutable = _interopRequireDefault(require("../util/electron-executable"));
var _readPackageJson = require("../util/read-package-json");
var _rebuild = _interopRequireDefault(require("../util/rebuild"));
var _resolveDir = _interopRequireDefault(require("../util/resolve-dir"));
var _hook = require("../util/hook");
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const d = (0, _debug).default('electron-forge:start');
var _default = async ({ dir =process.cwd() , appPath ='.' , interactive =false , enableLogging =false , args =[] , runAsNode =false , inspect =false , inspectBrk =false  })=>{
    _asyncOra.asyncOra.interactive = interactive;
    await (0, _asyncOra).asyncOra('Locating Application', async ()=>{
        const resolvedDir = await (0, _resolveDir).default(dir);
        if (!resolvedDir) {
            throw new Error('Failed to locate startable Electron application');
        }
        dir = resolvedDir;
    });
    const forgeConfig = await (0, _forgeConfig).default(dir);
    const packageJSON = await (0, _readPackageJson).readMutatedPackageJson(dir, forgeConfig);
    if (!packageJSON.version) {
        throw new Error(`Please set your application's 'version' in '${dir}/package.json'.`);
    }
    const platform = process.env.npm_config_platform || process.platform;
    const arch = process.env.npm_config_arch || process.arch;
    await (0, _rebuild).default(dir, await (0, _electronVersion).getElectronVersion(dir, packageJSON), platform, arch, forgeConfig.electronRebuildConfig);
    await (0, _hook).runHook(forgeConfig, 'generateAssets', platform, arch);
    let lastSpawned = null;
    const forgeSpawn = async ()=>{
        let electronExecPath = null;
        // If a plugin has taken over the start command let's stop here
        const spawnedPluginChild = await forgeConfig.pluginInterface.overrideStartLogic({
            dir,
            appPath,
            interactive,
            enableLogging,
            args,
            runAsNode,
            inspect,
            inspectBrk
        });
        let prefixArgs = [];
        if (typeof spawnedPluginChild === 'string') {
            electronExecPath = spawnedPluginChild;
        } else if (Array.isArray(spawnedPluginChild)) {
            [electronExecPath, ...prefixArgs] = spawnedPluginChild;
        } else if (spawnedPluginChild) {
            await (0, _hook).runHook(forgeConfig, 'postStart', spawnedPluginChild);
            return spawnedPluginChild;
        }
        if (!electronExecPath) {
            electronExecPath = await (0, _electronExecutable).default(dir, packageJSON);
        }
        d('Electron binary path:', electronExecPath);
        const spawnOpts = {
            cwd: dir,
            stdio: 'inherit',
            env: {
                ...process.env,
                ...enableLogging ? {
                    ELECTRON_ENABLE_LOGGING: 'true',
                    ELECTRON_ENABLE_STACK_DUMPING: 'true'
                } : {}
            }
        };
        if (runAsNode) {
            spawnOpts.env.ELECTRON_RUN_AS_NODE = 'true';
        } else {
            delete spawnOpts.env.ELECTRON_RUN_AS_NODE;
        }
        if (inspect) {
            args = [
                '--inspect'
            ].concat(args);
        }
        if (inspectBrk) {
            args = [
                '--inspect-brk'
            ].concat(args);
        }
        let spawned;
        await (0, _asyncOra).asyncOra('Launching Application', async ()=>{
            spawned = (0, _childProcess).spawn(electronExecPath, prefixArgs.concat([
                appPath
            ]).concat(args), spawnOpts);
        });
        await (0, _hook).runHook(forgeConfig, 'postStart', spawned);
        return spawned;
    };
    const forgeSpawnWrapper = async ()=>{
        const spawned = await forgeSpawn();
        // When the child app is closed we should stop listening for stdin
        if (spawned) {
            if (interactive && process.stdin.isPaused()) {
                process.stdin.resume();
            }
            spawned.on('exit', ()=>{
                if (spawned.restarted) return;
                if (!process.stdin.isPaused()) process.stdin.pause();
            });
        } else if (interactive && !process.stdin.isPaused()) {
            process.stdin.pause();
        }
        lastSpawned = spawned;
        return lastSpawned;
    };
    if (interactive) {
        process.stdin.on('data', async (data)=>{
            if (data.toString().trim() === 'rs' && lastSpawned) {
                // eslint-disable-next-line no-console
                console.info(_chalk.default.cyan('\nRestarting App\n'));
                lastSpawned.restarted = true;
                lastSpawned.kill('SIGTERM');
                lastSpawned.emit('restarted', await forgeSpawnWrapper());
            }
        });
    }
    return forgeSpawnWrapper();
};
exports.default = _default;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcGkvc3RhcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXN5bmNPcmEgfSBmcm9tICdAZWxlY3Ryb24tZm9yZ2UvYXN5bmMtb3JhJztcbmltcG9ydCBjaGFsayBmcm9tICdjaGFsayc7XG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgRWxlY3Ryb25Qcm9jZXNzLCBGb3JnZUFyY2gsIEZvcmdlUGxhdGZvcm0sIFN0YXJ0T3B0aW9ucyB9IGZyb20gJ0BlbGVjdHJvbi1mb3JnZS9zaGFyZWQtdHlwZXMnO1xuaW1wb3J0IHsgc3Bhd24sIFNwYXduT3B0aW9ucyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuXG5pbXBvcnQgeyBnZXRFbGVjdHJvblZlcnNpb24gfSBmcm9tICcuLi91dGlsL2VsZWN0cm9uLXZlcnNpb24nO1xuaW1wb3J0IGdldEZvcmdlQ29uZmlnIGZyb20gJy4uL3V0aWwvZm9yZ2UtY29uZmlnJztcbmltcG9ydCBsb2NhdGVFbGVjdHJvbkV4ZWN1dGFibGUgZnJvbSAnLi4vdXRpbC9lbGVjdHJvbi1leGVjdXRhYmxlJztcbmltcG9ydCB7IHJlYWRNdXRhdGVkUGFja2FnZUpzb24gfSBmcm9tICcuLi91dGlsL3JlYWQtcGFja2FnZS1qc29uJztcbmltcG9ydCByZWJ1aWxkIGZyb20gJy4uL3V0aWwvcmVidWlsZCc7XG5pbXBvcnQgcmVzb2x2ZURpciBmcm9tICcuLi91dGlsL3Jlc29sdmUtZGlyJztcbmltcG9ydCB7IHJ1bkhvb2sgfSBmcm9tICcuLi91dGlsL2hvb2snO1xuXG5jb25zdCBkID0gZGVidWcoJ2VsZWN0cm9uLWZvcmdlOnN0YXJ0Jyk7XG5cbmV4cG9ydCB7IFN0YXJ0T3B0aW9ucyB9O1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAoe1xuICBkaXIgPSBwcm9jZXNzLmN3ZCgpLFxuICBhcHBQYXRoID0gJy4nLFxuICBpbnRlcmFjdGl2ZSA9IGZhbHNlLFxuICBlbmFibGVMb2dnaW5nID0gZmFsc2UsXG4gIGFyZ3MgPSBbXSxcbiAgcnVuQXNOb2RlID0gZmFsc2UsXG4gIGluc3BlY3QgPSBmYWxzZSxcbiAgaW5zcGVjdEJyayA9IGZhbHNlLFxufTogU3RhcnRPcHRpb25zKTogUHJvbWlzZTxFbGVjdHJvblByb2Nlc3M+ID0+IHtcbiAgYXN5bmNPcmEuaW50ZXJhY3RpdmUgPSBpbnRlcmFjdGl2ZTtcblxuICBhd2FpdCBhc3luY09yYSgnTG9jYXRpbmcgQXBwbGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWREaXIgPSBhd2FpdCByZXNvbHZlRGlyKGRpcik7XG4gICAgaWYgKCFyZXNvbHZlZERpcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9jYXRlIHN0YXJ0YWJsZSBFbGVjdHJvbiBhcHBsaWNhdGlvbicpO1xuICAgIH1cbiAgICBkaXIgPSByZXNvbHZlZERpcjtcbiAgfSk7XG5cbiAgY29uc3QgZm9yZ2VDb25maWcgPSBhd2FpdCBnZXRGb3JnZUNvbmZpZyhkaXIpO1xuICBjb25zdCBwYWNrYWdlSlNPTiA9IGF3YWl0IHJlYWRNdXRhdGVkUGFja2FnZUpzb24oZGlyLCBmb3JnZUNvbmZpZyk7XG5cbiAgaWYgKCFwYWNrYWdlSlNPTi52ZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBQbGVhc2Ugc2V0IHlvdXIgYXBwbGljYXRpb24ncyAndmVyc2lvbicgaW4gJyR7ZGlyfS9wYWNrYWdlLmpzb24nLmApO1xuICB9XG5cbiAgY29uc3QgcGxhdGZvcm0gPSBwcm9jZXNzLmVudi5ucG1fY29uZmlnX3BsYXRmb3JtIHx8IHByb2Nlc3MucGxhdGZvcm07XG4gIGNvbnN0IGFyY2ggPSBwcm9jZXNzLmVudi5ucG1fY29uZmlnX2FyY2ggfHwgcHJvY2Vzcy5hcmNoO1xuXG4gIGF3YWl0IHJlYnVpbGQoZGlyLCBhd2FpdCBnZXRFbGVjdHJvblZlcnNpb24oZGlyLCBwYWNrYWdlSlNPTiksIHBsYXRmb3JtIGFzIEZvcmdlUGxhdGZvcm0sIGFyY2ggYXMgRm9yZ2VBcmNoLCBmb3JnZUNvbmZpZy5lbGVjdHJvblJlYnVpbGRDb25maWcpO1xuXG4gIGF3YWl0IHJ1bkhvb2soZm9yZ2VDb25maWcsICdnZW5lcmF0ZUFzc2V0cycsIHBsYXRmb3JtLCBhcmNoKTtcblxuICBsZXQgbGFzdFNwYXduZWQ6IEVsZWN0cm9uUHJvY2VzcyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0IGZvcmdlU3Bhd24gPSBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGVsZWN0cm9uRXhlY1BhdGg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gSWYgYSBwbHVnaW4gaGFzIHRha2VuIG92ZXIgdGhlIHN0YXJ0IGNvbW1hbmQgbGV0J3Mgc3RvcCBoZXJlXG4gICAgY29uc3Qgc3Bhd25lZFBsdWdpbkNoaWxkID0gYXdhaXQgZm9yZ2VDb25maWcucGx1Z2luSW50ZXJmYWNlLm92ZXJyaWRlU3RhcnRMb2dpYyh7XG4gICAgICBkaXIsXG4gICAgICBhcHBQYXRoLFxuICAgICAgaW50ZXJhY3RpdmUsXG4gICAgICBlbmFibGVMb2dnaW5nLFxuICAgICAgYXJncyxcbiAgICAgIHJ1bkFzTm9kZSxcbiAgICAgIGluc3BlY3QsXG4gICAgICBpbnNwZWN0QnJrLFxuICAgIH0pO1xuICAgIGxldCBwcmVmaXhBcmdzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmICh0eXBlb2Ygc3Bhd25lZFBsdWdpbkNoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgZWxlY3Ryb25FeGVjUGF0aCA9IHNwYXduZWRQbHVnaW5DaGlsZDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3Bhd25lZFBsdWdpbkNoaWxkKSkge1xuICAgICAgW2VsZWN0cm9uRXhlY1BhdGgsIC4uLnByZWZpeEFyZ3NdID0gc3Bhd25lZFBsdWdpbkNoaWxkO1xuICAgIH0gZWxzZSBpZiAoc3Bhd25lZFBsdWdpbkNoaWxkKSB7XG4gICAgICBhd2FpdCBydW5Ib29rKGZvcmdlQ29uZmlnLCAncG9zdFN0YXJ0Jywgc3Bhd25lZFBsdWdpbkNoaWxkKTtcbiAgICAgIHJldHVybiBzcGF3bmVkUGx1Z2luQ2hpbGQ7XG4gICAgfVxuXG4gICAgaWYgKCFlbGVjdHJvbkV4ZWNQYXRoKSB7XG4gICAgICBlbGVjdHJvbkV4ZWNQYXRoID0gYXdhaXQgbG9jYXRlRWxlY3Ryb25FeGVjdXRhYmxlKGRpciwgcGFja2FnZUpTT04pO1xuICAgIH1cblxuICAgIGQoJ0VsZWN0cm9uIGJpbmFyeSBwYXRoOicsIGVsZWN0cm9uRXhlY1BhdGgpO1xuXG4gICAgY29uc3Qgc3Bhd25PcHRzID0ge1xuICAgICAgY3dkOiBkaXIsXG4gICAgICBzdGRpbzogJ2luaGVyaXQnLFxuICAgICAgZW52OiB7XG4gICAgICAgIC4uLnByb2Nlc3MuZW52LFxuICAgICAgICAuLi4oZW5hYmxlTG9nZ2luZ1xuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBFTEVDVFJPTl9FTkFCTEVfTE9HR0lORzogJ3RydWUnLFxuICAgICAgICAgICAgICBFTEVDVFJPTl9FTkFCTEVfU1RBQ0tfRFVNUElORzogJ3RydWUnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge30pLFxuICAgICAgfSBhcyBOb2RlSlMuUHJvY2Vzc0VudixcbiAgICB9O1xuXG4gICAgaWYgKHJ1bkFzTm9kZSkge1xuICAgICAgc3Bhd25PcHRzLmVudi5FTEVDVFJPTl9SVU5fQVNfTk9ERSA9ICd0cnVlJztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHNwYXduT3B0cy5lbnYuRUxFQ1RST05fUlVOX0FTX05PREU7XG4gICAgfVxuXG4gICAgaWYgKGluc3BlY3QpIHtcbiAgICAgIGFyZ3MgPSBbJy0taW5zcGVjdCcgYXMgc3RyaW5nIHwgbnVtYmVyXS5jb25jYXQoYXJncyk7XG4gICAgfVxuICAgIGlmIChpbnNwZWN0QnJrKSB7XG4gICAgICBhcmdzID0gWyctLWluc3BlY3QtYnJrJyBhcyBzdHJpbmcgfCBudW1iZXJdLmNvbmNhdChhcmdzKTtcbiAgICB9XG5cbiAgICBsZXQgc3Bhd25lZCE6IEVsZWN0cm9uUHJvY2VzcztcblxuICAgIGF3YWl0IGFzeW5jT3JhKCdMYXVuY2hpbmcgQXBwbGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBzcGF3bmVkID0gc3Bhd24oXG4gICAgICAgIGVsZWN0cm9uRXhlY1BhdGghLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgcHJlZml4QXJncy5jb25jYXQoW2FwcFBhdGhdKS5jb25jYXQoYXJncyBhcyBzdHJpbmdbXSksXG4gICAgICAgIHNwYXduT3B0cyBhcyBTcGF3bk9wdGlvbnNcbiAgICAgICkgYXMgRWxlY3Ryb25Qcm9jZXNzO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgcnVuSG9vayhmb3JnZUNvbmZpZywgJ3Bvc3RTdGFydCcsIHNwYXduZWQpO1xuICAgIHJldHVybiBzcGF3bmVkO1xuICB9O1xuXG4gIGNvbnN0IGZvcmdlU3Bhd25XcmFwcGVyID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHNwYXduZWQgPSBhd2FpdCBmb3JnZVNwYXduKCk7XG4gICAgLy8gV2hlbiB0aGUgY2hpbGQgYXBwIGlzIGNsb3NlZCB3ZSBzaG91bGQgc3RvcCBsaXN0ZW5pbmcgZm9yIHN0ZGluXG4gICAgaWYgKHNwYXduZWQpIHtcbiAgICAgIGlmIChpbnRlcmFjdGl2ZSAmJiBwcm9jZXNzLnN0ZGluLmlzUGF1c2VkKCkpIHtcbiAgICAgICAgcHJvY2Vzcy5zdGRpbi5yZXN1bWUoKTtcbiAgICAgIH1cbiAgICAgIHNwYXduZWQub24oJ2V4aXQnLCAoKSA9PiB7XG4gICAgICAgIGlmIChzcGF3bmVkLnJlc3RhcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICghcHJvY2Vzcy5zdGRpbi5pc1BhdXNlZCgpKSBwcm9jZXNzLnN0ZGluLnBhdXNlKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGludGVyYWN0aXZlICYmICFwcm9jZXNzLnN0ZGluLmlzUGF1c2VkKCkpIHtcbiAgICAgIHByb2Nlc3Muc3RkaW4ucGF1c2UoKTtcbiAgICB9XG5cbiAgICBsYXN0U3Bhd25lZCA9IHNwYXduZWQ7XG4gICAgcmV0dXJuIGxhc3RTcGF3bmVkO1xuICB9O1xuXG4gIGlmIChpbnRlcmFjdGl2ZSkge1xuICAgIHByb2Nlc3Muc3RkaW4ub24oJ2RhdGEnLCBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEudG9TdHJpbmcoKS50cmltKCkgPT09ICdycycgJiYgbGFzdFNwYXduZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5pbmZvKGNoYWxrLmN5YW4oJ1xcblJlc3RhcnRpbmcgQXBwXFxuJykpO1xuICAgICAgICBsYXN0U3Bhd25lZC5yZXN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBsYXN0U3Bhd25lZC5raWxsKCdTSUdURVJNJyk7XG4gICAgICAgIGxhc3RTcGF3bmVkLmVtaXQoJ3Jlc3RhcnRlZCcsIGF3YWl0IGZvcmdlU3Bhd25XcmFwcGVyKCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZvcmdlU3Bhd25XcmFwcGVyKCk7XG59O1xuIl0sIm5hbWVzIjpbIlN0YXJ0T3B0aW9ucyIsImQiLCJkZWJ1ZyIsImRpciIsInByb2Nlc3MiLCJjd2QiLCJhcHBQYXRoIiwiaW50ZXJhY3RpdmUiLCJlbmFibGVMb2dnaW5nIiwiYXJncyIsInJ1bkFzTm9kZSIsImluc3BlY3QiLCJpbnNwZWN0QnJrIiwiYXN5bmNPcmEiLCJyZXNvbHZlZERpciIsInJlc29sdmVEaXIiLCJFcnJvciIsImZvcmdlQ29uZmlnIiwiZ2V0Rm9yZ2VDb25maWciLCJwYWNrYWdlSlNPTiIsInJlYWRNdXRhdGVkUGFja2FnZUpzb24iLCJ2ZXJzaW9uIiwicGxhdGZvcm0iLCJlbnYiLCJucG1fY29uZmlnX3BsYXRmb3JtIiwiYXJjaCIsIm5wbV9jb25maWdfYXJjaCIsInJlYnVpbGQiLCJnZXRFbGVjdHJvblZlcnNpb24iLCJlbGVjdHJvblJlYnVpbGRDb25maWciLCJydW5Ib29rIiwibGFzdFNwYXduZWQiLCJmb3JnZVNwYXduIiwiZWxlY3Ryb25FeGVjUGF0aCIsInNwYXduZWRQbHVnaW5DaGlsZCIsInBsdWdpbkludGVyZmFjZSIsIm92ZXJyaWRlU3RhcnRMb2dpYyIsInByZWZpeEFyZ3MiLCJBcnJheSIsImlzQXJyYXkiLCJsb2NhdGVFbGVjdHJvbkV4ZWN1dGFibGUiLCJzcGF3bk9wdHMiLCJzdGRpbyIsIkVMRUNUUk9OX0VOQUJMRV9MT0dHSU5HIiwiRUxFQ1RST05fRU5BQkxFX1NUQUNLX0RVTVBJTkciLCJFTEVDVFJPTl9SVU5fQVNfTk9ERSIsImNvbmNhdCIsInNwYXduZWQiLCJzcGF3biIsImZvcmdlU3Bhd25XcmFwcGVyIiwic3RkaW4iLCJpc1BhdXNlZCIsInJlc3VtZSIsIm9uIiwicmVzdGFydGVkIiwicGF1c2UiLCJkYXRhIiwidG9TdHJpbmciLCJ0cmltIiwiY29uc29sZSIsImluZm8iLCJjaGFsayIsImN5YW4iLCJraWxsIiwiZW1pdCJdLCJtYXBwaW5ncyI6Ijs7OzsrQkFnQlNBLENBQVk7OztlQUFaQSxZQUFZOzs7O0FBaEJJLEdBQTJCLENBQTNCLFNBQTJCO0FBQ2xDLEdBQU8sQ0FBUCxNQUFPO0FBQ1AsR0FBTyxDQUFQLE1BQU87QUFDK0MsR0FBOEIsQ0FBOUIsWUFBOEI7QUFDbEUsR0FBZSxDQUFmLGFBQWU7QUFFaEIsR0FBMEIsQ0FBMUIsZ0JBQTBCO0FBQ2xDLEdBQXNCLENBQXRCLFlBQXNCO0FBQ1osR0FBNkIsQ0FBN0IsbUJBQTZCO0FBQzNCLEdBQTJCLENBQTNCLGdCQUEyQjtBQUM5QyxHQUFpQixDQUFqQixRQUFpQjtBQUNkLEdBQXFCLENBQXJCLFdBQXFCO0FBQ3BCLEdBQWMsQ0FBZCxLQUFjOzs7Ozs7QUFFdEMsS0FBSyxDQUFDQyxDQUFDLE9BQUdDLE1BQUssVUFBQyxDQUFzQjtzQkFJaEIsQ0FBQyxDQUNyQkMsR0FBRyxFQUFHQyxPQUFPLENBQUND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